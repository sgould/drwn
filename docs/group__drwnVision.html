<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Darwin: drwnVision</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="drwn.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Darwin
   &#160;<span id="projectnumber">1.10(beta)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">drwnVision<div class="ingroups"><a class="el" href="group__drwnLibraries.html">Darwin Libraries</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="drwnVisionDef"></a>
Class List for drwnVision</h1>
<ul>
<li><a class="el" href="classdrwnColourHistogram.html" title="Specialized histogram for quantized 3-channel colour values (e.g., RGB). ">drwnColourHistogram</a> : Specialized histogram for quantized 3-channel colour values (e.g., RGB). </li>
<li><a class="el" href="classdrwnFilterBankResponse.html" title="Holds the results of running an image through a bank of filters and allows for computation of feature...">drwnFilterBankResponse</a> : Holds the results of running an image through a bank of filters and allows for computation of features over rectangular regions. </li>
<li><a class="el" href="classdrwnGrabCutInstance.html" title="Implements the grabCut algorithm of Rother et al., SIGGRAPH 2004 for figure/ground segmentation...">drwnGrabCutInstance</a> : Implements the grabCut algorithm of Rother et al., SIGGRAPH 2004 for figure/ground segmentation. </li>
<li><a class="el" href="classdrwnHOGFeatures.html" title="Encapsulates histogram-of-gradient (HOG) feature computation. ">drwnHOGFeatures</a> : Encapsulates histogram-of-gradient (HOG) feature computation. </li>
<li><a class="el" href="classdrwnImageCache.html" title="Caches images in memory up to a maximum number of images or memory limit. ">drwnImageCache</a> : Caches images in memory up to a maximum number of images or memory limit. </li>
<li><a class="el" href="classdrwnImageInPainter.html" title="Performs exemplar-based image inpainting. ">drwnImageInPainter</a> : Performs exemplar-based image inpainting. </li>
<li><a class="el" href="classdrwnImagePyramidCache.html" title="Caches image pyramids in main memory up to a maximum number of images or memory limit. ">drwnImagePyramidCache</a> : Caches image pyramids in main memory up to a maximum number of images or memory limit. </li>
<li><a class="el" href="classdrwnMaskedPatchMatch.html" title="Implements the basic PatchMatch algorithm of Barnes et al., SIGGRAPH 2009 on masked images...">drwnMaskedPatchMatch</a> : Implements the basic PatchMatch algorithm of Barnes et al., SIGGRAPH 2009 on masked images. </li>
<li><a class="el" href="classdrwnMultiSegRegionDefinitions.html" title="Provides a mechanism for mapping region IDs to colours and class names. Can be initialized from an XM...">drwnMultiSegRegionDefinitions</a> : Provides a mechanism for mapping region IDs to colours and class names. Can be initialized from an XML configuration file or programmatically for a number of standard datasets. </li>
<li><a class="el" href="classdrwnMultiSegConfig.html" title="Manages configuration settings for multiple image segmentation. ">drwnMultiSegConfig</a> : Manages configuration settings for multiple image segmentation. </li>
<li><a class="el" href="drwnMultiSegVis_8h.html#drwnMultiSegVis">drwnMultiSegVis</a> : Visualization routines for multi-class image segmentation. </li>
<li><a class="el" href="classdrwnObject.html" title="Encapsulates a 2D object in an image for object detection. ">drwnObject</a> : Encapsulates a 2D object in an image for object detection. </li>
<li><a class="el" href="classdrwnObjectList.html" title="List of objects for the same image (see drwnObject) ">drwnObjectList</a> : List of objects for the same image (see <a class="el" href="classdrwnObject.html" title="Encapsulates a 2D object in an image for object detection. ">drwnObject</a>) </li>
<li><a class="el" href="classdrwnObjectSequence.html" title="Sequence of images, each with a list of objects (see drwnObjectList) ">drwnObjectSequence</a> : Sequence of images, each with a list of objects (see <a class="el" href="classdrwnObjectList.html" title="List of objects for the same image (see drwnObject) ">drwnObjectList</a>) </li>
<li><a class="el" href="group__drwnConfigSettings.html#drwnOpenCVUtils">drwnOpenCVUtils</a> : Utilities for working with OpenCV. </li>
<li><a class="el" href="classdrwnPatchMatchEdge.html" title="Represents an edge in the drwnPatchMatchGraph. ">drwnPatchMatchEdge</a> : Represents an edge in the <a class="el" href="classdrwnPatchMatchGraph.html" title="Each image maintains a W-by-H-by-K array of match records referencing the (approximate) best K matche...">drwnPatchMatchGraph</a>. </li>
<li><a class="el" href="classdrwnPatchMatchGraph.html" title="Each image maintains a W-by-H-by-K array of match records referencing the (approximate) best K matche...">drwnPatchMatchGraph</a> : Each image maintains a W-by-H-by-K array of match records referencing the (approximate) best K matches to other images. Image filename rather than the images themselves are stored. Duplicate filenames (images) are not allowed. </li>
<li><a class="el" href="classdrwnPatchMatchGraphLearner.html" title="Learns a PatchMatchGraph by iteratively performing search moves over the space of matches...">drwnPatchMatchGraphLearner</a> : Learns a PatchMatchGraph by iteratively performing search moves over the space of matches. </li>
<li><a class="el" href="classdrwnPatchMatchImagePyramid.html" title="Record of patch matches for mutliple levels each image. ">drwnPatchMatchImagePyramid</a> : Record of patch matches for mutliple levels each image. </li>
<li><a class="el" href="classdrwnPatchMatchImageRecord.html" title="Records matches for one level in an image pyramid. ">drwnPatchMatchImageRecord</a> : Records matches for one level in an image pyramid. </li>
<li><a class="el" href="classdrwnPatchMatchNode.html" title="Represents a node in the drwnPatchMatchGraph. ">drwnPatchMatchNode</a> : Represents a node in the <a class="el" href="classdrwnPatchMatchGraph.html" title="Each image maintains a W-by-H-by-K array of match records referencing the (approximate) best K matche...">drwnPatchMatchGraph</a>. </li>
<li>drwnPatchMatchRepaint : </li>
<li><a class="el" href="classdrwnPartsModel.html" title="Interface for implementing a part-based constellation model (i.e., pictorial structures model) for ob...">drwnPartsModel</a> : Interface for implementing a part-based constellation model (i.e., pictorial structures model) for object detection. </li>
<li><a class="el" href="classdrwnPixelNeighbourContrasts.html" title="Convenience class for holding pixel contrast weights. ">drwnPixelNeighbourContrasts</a> : Convenience class for holding pixel contrast weights. </li>
<li><a class="el" href="classdrwnPixelSegCRFInference.html" title="Alpha-expansion inference for a pixel-level CRF model with unary, contrast-dependent pairwise...">drwnPixelSegCRFInference</a> : Alpha-expansion inference for a pixel-level CRF model with unary, contrast-dependent pairwise, and custom higher-order terms. </li>
<li><a class="el" href="classdrwnPixelSegModel.html" title="Implements a pixel-level CRF model for multi-class image segmentation (pixel labeling). ">drwnPixelSegModel</a> : Implements a pixel-level CRF model for multi-class image segmentation (pixel labeling). </li>
<li><a class="el" href="classdrwnRobustPottsCRFInference.html" title="and where 0.0 &lt;  &lt; 0.5 ">drwnRobustPottsCRFInference</a> : and where 0.0 &lt;  &lt; 0.5 </li>
<li><a class="el" href="classdrwnSegImageInstance.html" title="Encapsulates a single instance of an image for multi-class pixel labeling problems (i...">drwnSegImageInstance</a> : Encapsulates a single instance of an image for multi-class pixel labeling problems (i.e., image segmentation). </li>
<li><a class="el" href="classdrwnSegImagePixelFeatures.html" title="Interface for generating per-pixel features for a drwnSegImageInstance object. ">drwnSegImagePixelFeatures</a> : Interface for generating per-pixel features for a <a class="el" href="classdrwnSegImageInstance.html" title="Encapsulates a single instance of an image for multi-class pixel labeling problems (i...">drwnSegImageInstance</a> object. </li>
<li><a class="el" href="classdrwnSegImageRegionFeatures.html" title="Interface for generating per-region (or per-superpixel) features for a drwnSegImageInstance object...">drwnSegImageRegionFeatures</a> : Interface for generating per-region (or per-superpixel) features for a <a class="el" href="classdrwnSegImageInstance.html" title="Encapsulates a single instance of an image for multi-class pixel labeling problems (i...">drwnSegImageInstance</a> object. The <code>superpixel</code> data member of the <a class="el" href="classdrwnSegImageInstance.html" title="Encapsulates a single instance of an image for multi-class pixel labeling problems (i...">drwnSegImageInstance</a> object must be populated. </li>
<li><a class="el" href="classdrwnSuperpixelContainer.html" title="Holds multiple oversegmentations for a given image. ">drwnSuperpixelContainer</a> : Holds multiple oversegmentations for a given image. </li>
<li><a class="el" href="classdrwnTemplateMatcher.html" title="Utility class for computing multiple template matches. ">drwnTemplateMatcher</a> : Utility class for computing multiple template matches. </li>
<li><a class="el" href="classdrwnTextonFilterBank.html" title="Implements a 17-dimensional filter bank. ">drwnTextonFilterBank</a> : Implements a 17-dimensional filter bank. </li>
<li><a class="el" href="drwnVisionUtils_8h.html#drwnVisionUtils">drwnVisionUtils</a> : Computer vision utility functions (not dependent on OpenCV functions, but may use OpenCV data structures). </li>
<li><a class="el" href="classdrwnWeightedRobustPottsCRFInference.html" title="and where 0.0 &lt;  &lt; 0.5, W_c =  w_i ">drwnWeightedRobustPottsCRFInference</a> : and where 0.0 &lt;  &lt; 0.5, W_c =  w_i</li>
</ul>
<h1><a class="anchor" id="drwnVisionDoc"></a>
drwnVision API Examples</h1>
<p>The following code shows an example of learning and then executing a pixel classifier based on RGB features. For more sophisticated pixel labeling see <a class="el" href="classdrwnSegImageInstance.html" title="Encapsulates a single instance of an image for multi-class pixel labeling problems (i...">drwnSegImageInstance</a> and <a class="el" href="classdrwnPixelSegModel.html" title="Implements a pixel-level CRF model for multi-class image segmentation (pixel labeling). ">drwnPixelSegModel</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// load image and labels</span></div><div class="line">cv::Mat img = cv::imread(<span class="stringliteral">&quot;image.png&quot;</span>, CV_LOAD_IMAGE_COLOR);</div><div class="line">MatrixXi labels;</div><div class="line"><a class="code" href="drwnVisionUtils_8h.html#aca9f0c7361e4b19588552869e5929b0c">drwnLoadPixelLabels</a>(labels, <span class="stringliteral">&quot;labels.txt&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// build a training dataset</span></div><div class="line"><a class="code" href="classdrwnDataset.html">drwnClassifierDataset</a> dataset;</div><div class="line">dataset.<a class="code" href="classdrwnDataset.html#a5bdbbb829171c67327f9b3f1df1b0557">reserve</a>(img.size());</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; img.rows; y++) {</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; img.cols; x++) {</div><div class="line">        <span class="keywordflow">if</span> (labels(y, x) &lt; 0) <span class="keywordflow">continue</span>;</div><div class="line"></div><div class="line">        vector&lt;double&gt; features(3);</div><div class="line">        features[0] = img.at&lt;Vec3b&gt;(y, x)[0];</div><div class="line">        features[1] = img.at&lt;Vec3b&gt;(y, x)[1];</div><div class="line">        features[2] = img.at&lt;Vec3b&gt;(y, x)[2];</div><div class="line"></div><div class="line">        dataset.<a class="code" href="classdrwnDataset.html#a89a3a485e7a30ebb8d837a5c6d6e8d7d">append</a>(features, labels(y, x));</div><div class="line">    }</div><div class="line">}</div><div class="line">DRWN_LOG_MESSAGE(<span class="stringliteral">&quot;dataset contains &quot;</span> &lt;&lt; dataset.<a class="code" href="classdrwnDataset.html#a04e3250ba772796bddbe170da451484b">size</a>() &lt;&lt; <span class="stringliteral">&quot; training samples&quot;</span>);</div><div class="line"></div><div class="line">dataset.<a class="code" href="classdrwnDataset.html#a542703ac17f1ea54acbdf92af003ca73">subSample</a>(2, <span class="keyword">true</span>);</div><div class="line">DRWN_LOG_MESSAGE(<span class="stringliteral">&quot;subsampled to &quot;</span> &lt;&lt; dataset.<a class="code" href="classdrwnDataset.html#a04e3250ba772796bddbe170da451484b">size</a>() &lt;&lt; <span class="stringliteral">&quot; training samples&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// train a decision tree classifier to depth of 10</span></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> nClasses = dataset.<a class="code" href="classdrwnDataset.html#a857639f3c37241942b1ad5698aea8cec">maxTarget</a>() + 1;</div><div class="line"><a class="code" href="classdrwnDecisionTree.html#a6fc80cba69383fb595d9e3402d1f38d1">drwnDecisionTree::MAX_DEPTH</a> = 10;</div><div class="line"><a class="code" href="classdrwnDecisionTree.html">drwnDecisionTree</a> classifier(dataset.<a class="code" href="classdrwnDataset.html#a9149f46735c9cf014f2cae2ee283e74b">numFeatures</a>(), nClasses);</div><div class="line">classifier.<a class="code" href="classdrwnMultiClassLogisticBase.html#a28b8c6eac860320367046a60fd2d1dfa">train</a>(dataset);</div><div class="line"></div><div class="line"><span class="comment">// display classification results (on training set)</span></div><div class="line"><a class="code" href="classdrwnConfusionMatrix.html">drwnConfusionMatrix</a> results(nClasses);</div><div class="line">results.accumulate(dataset, &amp;classifier);</div><div class="line">results.printCounts();</div></div><!-- fragment --><p>The following code shows an example of drawing bounding boxes for a list of objects. </p><div class="fragment"><div class="line"><span class="comment">// load objects</span></div><div class="line"><a class="code" href="classdrwnObjectList.html">drwnObjectList</a> objects;</div><div class="line">objects.<a class="code" href="classdrwnWriteable.html#abc63779bac847ca1d4dabfb45b236066">read</a>(OBJECTS_FILENAME);</div><div class="line"></div><div class="line"><span class="comment">// load image</span></div><div class="line">cv::Mat img = cv::imread(IMAGE_FILENAME, CV_LOAD_IMAGE_COLOR);</div><div class="line"></div><div class="line"><span class="comment">// draw objects</span></div><div class="line"><span class="keywordflow">for</span> (drwnObjectList::const_iterator it = objects.begin(); it != objects.end(); it++) {</div><div class="line">    <a class="code" href="drwnOpenCVUtils_8h.html#a9867a24b8d9b5b70dea0978adf159208">drwnDrawBoundingBox</a>(img, it-&gt;extent, CV_RGB(255, 0, 0), CV_RGB(0, 0, 0), 2);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// show image with objects</span></div><div class="line"><a class="code" href="drwnOpenCVUtils_8h.html#afbfbe7084183ec01a1a4ebbe0cfb70d7">drwnShowDebuggingImage</a>(img, <span class="stringliteral">&quot;objects&quot;</span>, <span class="keyword">true</span>);</div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 7 2025 11:32:27 for Darwin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
