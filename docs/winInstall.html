<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Darwin: Windows Installation Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="drwn.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Darwin
   &#160;<span id="projectnumber">1.10(beta)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Windows Installation Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="winCodeDownload"></a>
Getting the Code</h1>
<h2><a class="anchor" id="Download"></a>
Download</h2>
<p>Select the appropriate stable release from <a class="el" href="drwnDownloadsDoc.html">here</a> or check out directly from the repository by following the instructions below.</p>
<dl class="section note"><dt>Note</dt><dd>If you are not interested in developing your own applications against the <b>Darwin</b> libraries and simply want to run the existing applications then you can download pre-compiled binaries from the <a class="el" href="drwnDownloadsDoc.html">downloads page</a>.</dd></dl>
<h2><a class="anchor" id="Repository"></a>
Repository</h2>
<p>Use GitHub Shell to check out the latest copy of the code from: </p><div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/sgould/drwn.git $DARWIN</span></div></div><!-- fragment --><p> where $DARWIN is the directory you want to put the code in. To update previously cloned code use: </p><div class="fragment"><div class="line">cd $DARWIN</div><div class="line">git pull</div></div><!-- fragment --><h1><a class="anchor" id="winCodeBuild"></a>
Building the Code</h1>
<p>The following provides a brief list of steps required for building the code. These instructions assume you are familiar with the Microsoft Visual Studio development environment. More detailed instructions are given <a class="el" href="winInstall.html#winDetailedInstructions">below</a>. We use the symbol <code>$DARWIN</code> to represent the directory in which you are installing the codebase.</p>
<ul>
<li>
Make sure you have Visual Studio C++ installed (see <a class="el" href="winInstall.html#winEssentialSoftware">Essential Software</a>) </li>
<li>
Download Eigen 3.1.4 (or later) and unzip the archive (see <a class="el" href="winInstall.html#winEssentialSoftware">Essential Software</a>) <ul>
<li>
Move the unzipped folder to the <code>$DARWIN/external</code> folder and rename it <code>eigen3</code> </li>
<li>
A common problem is to copy the parent folder. Make sure the folder <code>Eigen</code> exists directly below <code>$DARWIN/external/eigen3</code> </li>
</ul>
</li>
<li>
Optionally download OpenCV-2.4.9.exe and save it to <code>$DARWIN/external</code>. This is a self-extracting archive. Running it should decompress OpenCV into folder <code>$DARWIN/external/opencv</code> (see <a class="el" href="winInstall.html#winOptionalSoftware">Optional Software</a>) </li>
<li>
Open <code>$DARWIN/src/drwnlibs</code>.sln </li>
<li>
Select the configuration (e.g., Release x64 or Debug win32) </li>
<li>
<p class="startli">Build the libraries.</p>
<dl class="section warning"><dt>Warning</dt><dd>By default Visual Studio C++ performs multi-threaded compilation. This can cause problems when compiling in Debug mode since debug information is stored to the same database file. The simplest way to solve this is to turn off multi-threaded building (see <a class="el" href="winInstall.html#winFAQ">Frequently Asked Questions</a> below).</dd></dl>
</li>
<li>
Open <code>$DARWIN/src/drwnapps</code>.sln and build either Debug or Release applications (these should match the library configuration). </li>
</ul>
<p>The <b>Darwin</b> libraries and applications will now be built (in the <code>$DARWIN/bin</code> folder). To build the projects you will need to open and build the Visual Studio C++ solution file in the corresponding project directory, e.g., <code>$DARWIN/projects/tutorial/tutorial</code>.sln.</p>
<h1><a class="anchor" id="winEssentialSoftware"></a>
Essential Software</h1>
<p>The following list provides links to software that is required for building the <b>Darwin</b> libraries and applications from source code.</p>
<ul>
<li>Visual Studio C++ 2010 Express or later (<a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express">http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express</a>) </li>
<li>Eigen (<a href="http://eigen.tuxfamily.org/">http://eigen.tuxfamily.org/</a>) installed as directed above.</li>
</ul>
<h1><a class="anchor" id="winOptionalSoftware"></a>
Optional Software</h1>
<p>The following provides links to software that is optional when building the <b>Darwin</b> libraries and applications from source code. If this software is not installed then some functionality may not be available.</p>
<ul>
<li>
GitHub Windows Client (<a href="http://windows.github.com/">http://windows.github.com/</a>) </li>
<li>
OpenCV 2.4.9 (<a href="http://opencv.org/">http://opencv.org/</a>) installed in the <code>external/opencv</code> directory <ul>
<li>
make sure both the <code>"$DARWIN\external\opencv\build\x86\vc10\bin"</code> directory is added to your Windows PATH variable (see <a class="el" href="winInstall.html#winFAQ">Frequently Asked Questions</a> below) </li>
<li>
if you install a later version of OpenCV you will need to modify the linked libraries within each Darwin project </li>
</ul>
</li>
<li>
wxWidgets 2.9.4 (<a href="http://www.wxwidgets.org/">http://www.wxwidgets.org/</a>) installed in the <code>$DARWIN/external/wx</code> directory </li>
<li>
Perl (<a href="http://www.activestate.com/Products/activeperl/">http://www.activestate.com/Products/activeperl/</a>) for running regression tests </li>
</ul>
<h1><a class="anchor" id="winDetailedInstructions"></a>
Detailed Installation Instructions</h1>
<p><b>Darwin</b> is a C++ software framework consisting of a several component libraries and application code as described in the <a class="el" href="index.html#Introduction">introduction</a> (on the <b>Darwin</b> homepage). On Windows the code can be compiled using Microsoft Visual Studio C++. These instructions provide a detailed description for compiling <b>Darwin</b> on a Windows system. The <a class="el" href="winInstall.html#winFAQ">Frequently Asked Questions</a> below provides answers to common questions that may be helpful in troubleshooting compilation problems.</p>
<h2><a class="anchor" id="winDetails1"></a>
Visual Studio</h2>
<p>The first thing you will need (after obtaining the <b>Darwin</b> code) is to install the Visual Studio C++ compiler. This is freely available software from Microsoft and can be downloaded and installed by following the instructions at <a href="http://www.microsoft.com/visualstudio/eng/downloads#d-2010-express">http://www.microsoft.com/visualstudio/eng/downloads#d-2010-express</a></p>
<dl class="section note"><dt>Note</dt><dd>Multi-threaded compiling is enabled by default. This can result in errors when compiling multiple projects in Debug mode. To turn off multi-threaded compilation, open Visual Studio and select the menu item <code>"Tools | Options"</code>. Select <code>"Projects and Solutions | Build and
Run"</code>. Set <code>"maximum number of parallel project builds"</code> to 1.</dd></dl>
<h2><a class="anchor" id="winDetails2"></a>
Third-party Libraries</h2>
<p>Like any large project <b>Darwin</b> also depends on some third-party software libraries. We have tried to keep these to a minimum. As such, only RapidXML and Eigen are required for the core framework components (specifically <a class="el" href="group__drwnBase.html">drwnBase</a>, <a class="el" href="group__drwnIO.html">drwnIO</a>, <a class="el" href="group__drwnML.html">drwnML</a>, <a class="el" href="group__drwnPGM.html">drwnPGM</a>). For convenience RapidXML is distributed with the source code. The Eigen template library for linear algebra, however, must be installed separately. Other third-party libraries, such as OpenCV, are only necessary if you require certain additional functionality (e.g., <a class="el" href="group__drwnVision.html">drwnVision</a> requires OpenCV).</p>
<p>All third-party libraries should be installed in the <code>$DARWIN/external</code> directory, where <code>$DARWIN</code> is the folder where you have downloaded and decompressed the <b>Darwin</b> source code (e.g., <code>C:/darwin</code>). The Eigen template library for linear algebra should be downloaded from the <a href="http://eigen.tuxfamily.org/">Eigen website</a>. Make sure you download version 3.1.4 or above. Create a folder called <code>$DARWIN/external/eigen3</code> and decompress the Eigen code into this folder.</p>
<dl class="section warning"><dt>Warning</dt><dd>Make sure that <code>$DARWIN/external/eigen3</code> contains the Eigen source directly and not a single subdirectory containing the Eigen source. You can check this by verifying that <code>$DARWIN/external/eigen3/Eigen</code> exists and contains the Eigen template library headers. A common mistake is to for this code to be one level deeper in the directory hierarchy, resulting in compilation errors.</dd></dl>
<p>OpenCV, which is optional, should be installed in <code>$DARWIN/external/opencv</code>. Download the <code>OpenCV-2.4.9.exe</code> self-extracting archive from <a href="http://sourceforge.net/projects/opencvlibrary/files/opencv-win">http://sourceforge.net/projects/opencvlibrary/files/opencv-win</a> and save it to <code>$DARWIN/external</code>. Running this application with the default options will then create the directory <code>$DARWIN/external/opencv</code> and decompress the OpenCV libaries into it.</p>
<dl class="section warning"><dt>Warning</dt><dd>Installing a different version of OpenCV will result in linker errors. See the <a class="el" href="winInstall.html#winFAQ">Frequently Asked Questions</a> below for information on how to update projects for later OpenCV versions.</dd></dl>
<h2><a class="anchor" id="winDetails3"></a>
Compiling the Darwin Libraries</h2>
<p>You are now ready to compile the <b>Darwin</b> libraries. The five libraries (<a class="el" href="group__drwnBase.html">drwnBase</a>, <a class="el" href="group__drwnIO.html">drwnIO</a>, <a class="el" href="group__drwnML.html">drwnML</a>, <a class="el" href="group__drwnPGM.html">drwnPGM</a> and <a class="el" href="group__drwnVision.html">drwnVision</a>) are bundled together into a Visual Studio Solution file called <code>$DARWIN/src/drwnlibs</code>.sln. Open this file in Visual Studio and you will see five projects corresponding to the five libraries. The libraries can be compiled in either Debug or Release mode. The mode can be changed for all projects at once via the Configuration Manager.</p>
<p>To compile all libraries right-click on <code>"Solution 'drwnlibs'"</code> and select <code>"Build Solution"</code> (alternatively hit the shortcut F7). Visual Studio will start compiling the code. The libraries are written to the <code>$DARWIN/bin</code> directory. If compiling in Debug mode library names will have the letter <code>'d'</code> appended to them (e.g., drwnBased.lib).</p>
<dl class="section warning"><dt>Warning</dt><dd>If you have not installed OpenCV you will get error messages when Visual Studio tries to compile the <a class="el" href="group__drwnVision.html">drwnVision</a> library. It is safe to ignore these messages.</dd></dl>
<p>You can also compile each library separately by right-clicking on the library and choosing <code>Build</code> from the drop-down menu.</p>
<h2><a class="anchor" id="winDetails4"></a>
Compiling the Darwin Applications and Projects</h2>
<p>Once the libraries have been build you are ready to compile the applications and projects. Open the file <code>$DARWIN/src/drwnapps</code>.sln in Visual Studio. The solution will show a number of applications. Compile these by right-clicking on <code>"Solution
'drwnapps'"</code> and selecting <code>"Build Solution"</code> (alternatively hit F7). This will compile all the applications and place the executables in the <code>$DARWIN/bin</code> directory.</p>
<dl class="section note"><dt>Note</dt><dd>You should compile the applications in the same mode (Debug or Release) as the libraries.</dd></dl>
<p>You can also compile each application separately by right-clicking on the corresponding project and choosing <code>Build</code> from the drop-down menu.</p>
<dl class="section warning"><dt>Warning</dt><dd>If OpenCV was not installed the computer vision applications will produce error messages when compiled. It is safe to ignore these messages.</dd></dl>
<p>You can go through the HelloWorld <a class="el" href="drwnTutorial.html">Darwin Tutorial</a> by opening the <code>$DARWIN/projects/tutorial/tutorial</code>.sln file. Likewise, projects such as <code>rosetta</code>, <code>multiSeg</code> and <code>patchMatch</code> can be compiled by opening the Visual Studio solution file in the corresponding project directory.</p>
<h1><a class="anchor" id="winFAQ"></a>
Frequently Asked Questions</h1>
<p><b>"How do I start the GitHub Shell?"</b> </p>
<p>From the Start menu select <code>"All Programs | GitHub, Inc | Git Shell"</code>.</p>
<p><b>"How do I turn off MSVC multi-threaded building?"</b> </p>
<p>Select the menu item <code>"Tools | Options"</code>. Select <code>"Projects and
Solutions | Build and Run"</code>. Set <code>"maximum number of parallel project builds"</code> to 1.</p>
<p><b>"How to I build executables that can be distributed?"</b> </p>
<p>Under <code>"Properties | C/C++ | Code Generation"</code> set <code>"Runtime Library"</code> to Multithreaded (/MT) to statically link the Visual Studio runtime libraries. Alternatively ask users to install the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=5555">Visual C++ Redistribution package</a>.</p>
<p><b>"Why do I get the error Cannot open include file: 'Eigen/Core'?"</b> </p>
<p>You have installed the Eigen linear algebra package in the wrong location. Make sure the directory <code>"$DARWIN/external/eigen3/Eigen"</code> exists.</p>
<p><b>"Why do I get the error Cannot open include file: 'cv.h'?"</b> </p>
<p>Either you have chosen to not install OpenCV or you have installed it in the wrong location. If you have chosen not to install OpenCV then you can ignore this error. However, you will not have access to functionality in the <a class="el" href="group__drwnVision.html">drwnVision</a> library, which depends on OpenCV.</p>
<p>If you want the <a class="el" href="group__drwnVision.html">drwnVision</a> library functionality then make sure OpenCV is installed in <code>$DARWIN/external/opencv</code>.</p>
<p>Note that at runtime the <code>"$DARWIN\external\opencv\build\x86\vc10\bin"</code> directory must be included in your system's <code>PATH</code> environment variable (this can be done via the Windows Control Panel).</p>
<p><b>"How do I add a directory to the Windows PATH variable?"</b> </p>
<p>Open the Window's <em>"System Properties"</em> dialog box and select the <em>"Advanced"</em> tab. On most Windows installations you can press the Window-Break (or Windows-Pause) and select <em>"Advanced system
settings"</em>. Click the <em>"Environment Variables..."</em> button. Select the <b>Path</b> system variable and click <em>"Edit..."</em> (if the variable does not exist then click <em>"New..."</em>. Add full directory paths as necessary, separated by a semi-colon (;).</p>
<p><b>"How do I link Darwin to another version of OpenCV?"</b> </p>
<p>If you download a later version of OpenCV you can get <b>Darwin</b> to compile against it by changing the OpenCV library names in the <code>"Property Page | Linker | Input"</code> field.</p>
<p><b>"Why do I get 'LINK: fatal error LINK1104: can not open drwnBase.lib'
when compiling applications or projects?"</b> </p>
<p>Check the <code>"$DARWIN\bin"</code> directory. Most likely you are compiling the libraries in Debug mode and the applications in Release mode. Debug libraries end in <code>d</code> (so <code>"drwnBased.lib"</code> instead of <code>"drwnBase.lib"</code>). See <a class="el" href="winInstall.html#winDetails3">Compiling the Darwin Libraries</a> above.</p>
<p><b>"How do I compile for x64 platforms?"</b> </p>
<p>The default installation of Visual Studio Express 2010 does not allow you to compile 64-bit applications. See <a href="http://msdn.microsoft.com/en-us/library/9yb4317s%28v=vs.100%29.aspx">this post</a> from Microsoft for further details. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 7 2025 11:32:27 for Darwin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
