<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Darwin: drwnCompressionBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="drwn.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Darwin
   &#160;<span id="projectnumber">1.10(beta)</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdrwnCompressionBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">drwnCompressionBuffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility class for compressing data using the zlib library.  
 <a href="classdrwnCompressionBuffer.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa298b54bb703598e0a77221c4e4ff1a2"><td class="memItemLeft" align="right" valign="top"><a id="aa298b54bb703598e0a77221c4e4ff1a2"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#aa298b54bb703598e0a77221c4e4ff1a2">originalBytes</a> () const</td></tr>
<tr class="memdesc:aa298b54bb703598e0a77221c4e4ff1a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of uncompressed bytes <br /></td></tr>
<tr class="separator:aa298b54bb703598e0a77221c4e4ff1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9614dc0d20d9897d1b66cbc023f8193e"><td class="memItemLeft" align="right" valign="top"><a id="a9614dc0d20d9897d1b66cbc023f8193e"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#a9614dc0d20d9897d1b66cbc023f8193e">compressedBytes</a> () const</td></tr>
<tr class="memdesc:a9614dc0d20d9897d1b66cbc023f8193e"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of compressed bytes <br /></td></tr>
<tr class="separator:a9614dc0d20d9897d1b66cbc023f8193e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52799c6742caa55707d8d16424a5d98"><td class="memItemLeft" align="right" valign="top"><a id="aa52799c6742caa55707d8d16424a5d98"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#aa52799c6742caa55707d8d16424a5d98">compress</a> (const unsigned char *data, unsigned int size)</td></tr>
<tr class="memdesc:aa52799c6742caa55707d8d16424a5d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">compress <code>size</code> bytes of <code>data</code> into buffer <br /></td></tr>
<tr class="separator:aa52799c6742caa55707d8d16424a5d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2aa68a4a171ea60e5a8e4e053b4cc82"><td class="memItemLeft" align="right" valign="top"><a id="ae2aa68a4a171ea60e5a8e4e053b4cc82"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#ae2aa68a4a171ea60e5a8e4e053b4cc82">decompress</a> (unsigned char *data) const</td></tr>
<tr class="memdesc:ae2aa68a4a171ea60e5a8e4e053b4cc82"><td class="mdescLeft">&#160;</td><td class="mdescRight">decompress buffer into <code>data</code> <br /></td></tr>
<tr class="separator:ae2aa68a4a171ea60e5a8e4e053b4cc82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c0ca8ce5ead636c81763c6640fc057"><td class="memItemLeft" align="right" valign="top"><a id="ab3c0ca8ce5ead636c81763c6640fc057"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#ab3c0ca8ce5ead636c81763c6640fc057">numBytesOnDisk</a> () const</td></tr>
<tr class="memdesc:ab3c0ca8ce5ead636c81763c6640fc057"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of bytes required to store buffer contents on disk <br /></td></tr>
<tr class="separator:ab3c0ca8ce5ead636c81763c6640fc057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed497fd153c2c45396aedcd9f8e315d"><td class="memItemLeft" align="right" valign="top"><a id="a0ed497fd153c2c45396aedcd9f8e315d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#a0ed497fd153c2c45396aedcd9f8e315d">write</a> (ostream &amp;os) const</td></tr>
<tr class="memdesc:a0ed497fd153c2c45396aedcd9f8e315d"><td class="mdescLeft">&#160;</td><td class="mdescRight">write compression buffer to output stream <br /></td></tr>
<tr class="separator:a0ed497fd153c2c45396aedcd9f8e315d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e879c56167cefdf8e8622278471729e"><td class="memItemLeft" align="right" valign="top"><a id="a7e879c56167cefdf8e8622278471729e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#a7e879c56167cefdf8e8622278471729e">read</a> (istream &amp;is)</td></tr>
<tr class="memdesc:a7e879c56167cefdf8e8622278471729e"><td class="mdescLeft">&#160;</td><td class="mdescRight">read compression buffer from input stream <br /></td></tr>
<tr class="separator:a7e879c56167cefdf8e8622278471729e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35d165d6e306496eb894aa93048a57b0"><td class="memItemLeft" align="right" valign="top"><a id="a35d165d6e306496eb894aa93048a57b0"></a>
<a class="el" href="classdrwnCompressionBuffer.html">drwnCompressionBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#a35d165d6e306496eb894aa93048a57b0">clone</a> () const</td></tr>
<tr class="memdesc:a35d165d6e306496eb894aa93048a57b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">clone the buffer <br /></td></tr>
<tr class="separator:a35d165d6e306496eb894aa93048a57b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b415491fc0aea420735a486d536c50"><td class="memItemLeft" align="right" valign="top"><a id="ae6b415491fc0aea420735a486d536c50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdrwnCompressionBuffer.html#ae6b415491fc0aea420735a486d536c50">free</a> ()</td></tr>
<tr class="memdesc:ae6b415491fc0aea420735a486d536c50"><td class="mdescLeft">&#160;</td><td class="mdescRight">free all memory associated with the buffer <br /></td></tr>
<tr class="separator:ae6b415491fc0aea420735a486d536c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6578b0f055b0c1351ad7180b8fb34895"><td class="memItemLeft" align="right" valign="top"><a id="a6578b0f055b0c1351ad7180b8fb34895"></a>
unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><b>_data</b></td></tr>
<tr class="separator:a6578b0f055b0c1351ad7180b8fb34895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45acf640807d3b8c3c9a118407c82545"><td class="memItemLeft" align="right" valign="top"><a id="a45acf640807d3b8c3c9a118407c82545"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_bytesAllocated</b></td></tr>
<tr class="separator:a45acf640807d3b8c3c9a118407c82545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a0ef54f78ba6e96c8b534fc59b9469"><td class="memItemLeft" align="right" valign="top"><a id="a34a0ef54f78ba6e96c8b534fc59b9469"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_bytesOriginal</b></td></tr>
<tr class="separator:a34a0ef54f78ba6e96c8b534fc59b9469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb918252ee5ee627ae192c85be59e87"><td class="memItemLeft" align="right" valign="top"><a id="abeb918252ee5ee627ae192c85be59e87"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_bytesCompressed</b></td></tr>
<tr class="separator:abeb918252ee5ee627ae192c85be59e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility class for compressing data using the zlib library. </p>
<p>The class holds compressed data. Copying the buffer does not copy the data (i.e., a shallow copy is performed). To copy the data use the clone member function. When decompressing data enough space must be allocated in output buffer. The following code snippet shows example usage:</p>
<div class="fragment"><div class="line"><span class="comment">// compress a string</span></div><div class="line"><span class="keywordtype">string</span> inputStr = getStringToCompress();</div><div class="line"><a class="code" href="classdrwnCompressionBuffer.html">drwnCompressionBuffer</a> buffer;</div><div class="line">buffer.<a class="code" href="classdrwnCompressionBuffer.html#aa52799c6742caa55707d8d16424a5d98">compress</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)inputStr.c_str(), inputStr.size());</div><div class="line"></div><div class="line">DRWN_LOG_MESSAGE(<span class="stringliteral">&quot;compressed &quot;</span> &lt;&lt; buffer.<a class="code" href="classdrwnCompressionBuffer.html#aa298b54bb703598e0a77221c4e4ff1a2">originalBytes</a>() &lt;&lt; <span class="stringliteral">&quot; bytes to &quot;</span> </div><div class="line">    &lt;&lt; buffer.<a class="code" href="classdrwnCompressionBuffer.html#a9614dc0d20d9897d1b66cbc023f8193e">compressedBytes</a>() &lt;&lt; <span class="stringliteral">&quot; bytes&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">// decompress a string</span></div><div class="line"><span class="keywordtype">string</span> recoveredStr;</div><div class="line">recoveredStr.resize(buffer.<a class="code" href="classdrwnCompressionBuffer.html#aa298b54bb703598e0a77221c4e4ff1a2">originalBytes</a>());</div><div class="line">buffer.<a class="code" href="classdrwnCompressionBuffer.html#ae2aa68a4a171ea60e5a8e4e053b4cc82">decompress</a>((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;recoveredStr[0]);</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>This class will simply copy data without compressing if compiled without DRWN_HAS_ZLIB defined. </dd></dl>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="drwnCompressionBuffer_8h_source.html">drwnCompressionBuffer.h</a></li>
<li>drwnCompressionBuffer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed May 7 2025 11:32:27 for Darwin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
